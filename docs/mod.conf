# Shadowrocket

[General]
bypass-system = true
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local, captive.apple.com
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32
dns-server = system
ipv6 = true

[Rule]
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT
IP-CIDR,127.0.0.0/8,DIRECT
GEOIP,UK,DIRECT
FINAL,DIRECT

[URL Rewrite]
(^https?:\/\/[\w-]+\.googlevideo\.com\/(?!dclk_video_ads).+?)&ctier=L(&.+?),ctier,(.+) $1$2$3 302
^https?:\/\/[\w-]+\.googlevideo\.com\/(?!(dclk_video_ads|videoplayback\?)).+&oad - REJECT
^https?:\/\/(www|s)\.youtube\.com\/api\/stats\/ads - REJECT
^https?:\/\/(www|s)\.youtube\.com\/(pagead|ptracking) - REJECT
^https?:\/\/s\.youtube\.com\/api\/stats\/qoe\?adcontext - REJECT

[Host]
localhost = 127.0.0.1

[Script]
Apollo = type=http-request,pattern=^https:\/\/www\.reddit\.com\/api\/v1\/access_token*,requires-body=true,max-size=0,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/apollo.js
Apple = type=http-response,pattern=https:\/\/buy\.itunes\.apple\.com\/verifyReceipt,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/apple.js
Bing = type=http-request,pattern=^http(s)?:\/\/(?:.*\.)?bing\.com,requires-body=false,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/bing.js
Busuu = type=http-response,pattern=^https:\/\/api\.busuu\.com\/users\/me*,max-size=0,requires-body=true,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/busuu.js
CamScanner = type=http-response,pattern=https://(api*|api-cs*).intsig.net/purchase/cs/*,requires-body=true,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/camscanner.js
Craft = type=http-response,pattern=^https:\/\/api\.craft\.do\/auth\/v2\/profile,max-size=0,requires-body=true,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/craft.js
Documents = type=http-response,pattern=^https?:\/\/license\.pdfexpert\.com\/api\/\d\.\d\/\w{9}\/\w{12}\/(state$|refresh$|check$),requires-body=1,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/documents.js
Duolingo = type=http-response,pattern=^https:\/\/ios-api-2\.duolingo\.com\/.+\/batch,max-size=0,requires-body=true,timeout=10,script-update-interval=60,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/duolingo.js
Gyroscope = type=http-response,pattern=^https:\/\/api\.gyrosco\.pe\/v1\/account\/$,requires-body=1,max-size=0,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/gyroscope.js
Hyperweb = type=http-response,pattern=^https://zy6kcqa01a.execute-api.us-east-2.amazonaws.com/prod/verifyReceipt,requires-body=1,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/hyperweb.js
Lightroom = type=http-response,pattern=^https:\/\/photos\.adobe\.io\/v2\/accounts*,requires-body=1,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/lightroom.js
MeisterTask = type=http-response,pattern=https://www.mindmeister.com/api/v2/licenses/meistertask,requires-body=1,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/meistertask.js
MyFitnessPal = type=http-response,pattern=https://premium-api.myfitnesspal.com/v3/subscriptions/MFP/*,requires-body=1,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/myfitnesspal.js
Notability = type=http-response,pattern=^https://notability.com/subscriptions,requires-body=1,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/notability.js
Photomath = type=http-response,pattern=https://lapi.photomath.net/v4/me,requires-body=1,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/photomath.js
Photoshop = type=http-response,pattern=^https:\/\/lcs-mobile-cops\.adobe\.io\/mobile_profile,requires-body=1,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/photoshop.js
RevenueCat = type=http-response,pattern= ^https:\/\/api\.revenuecat\.com\/.+\/(receipts|subscribers\/(\$RCAnonymousID%)?([\u4E00-\u9FA5A-Za-z0-9-_]+))$,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/revenuecat.js
RevenueCatBAK = type=http-response,pattern= ^https:\/\/api\.revenuecat\.com\/.+\/(receipts$|subscribers\/[^/]+$),requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/revenuecat.js
Spotify = type=http-response,pattern=^https:\/\/spclient\.wg\.spotify\.com\/(bootstrap\/v1\/bootstrap|user-customization-service\/v1\/customize)$,requires-body=1,binary-body-mode=1,max-size=0,script-update-interval=0,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/spotify.js
Symbolab = type=http-response,pattern=^https?:\/\/scibug\.com\/appleSubscriptionValidate$,requires-body=1,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/symbolab.js
TextNow = type=http-response,pattern=^https:\/\/api\.textnow\.me\/api2.0\/users\/.+,requires-body=1,max-size=0,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/textnow.js
YouTube = type=http-response,pattern=^https?:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/(browse|next|player|search|reel\/reel_watch_sequence|guide|account\/get_setting),requires-body=1,script-update-interval=-1,script-path=https://raw.githubusercontent.com/KikMyaz/kikmyaz.github.io/dev/docs/shadowrocket/rules/youtube.js

[MITM]
hostname = www.reddit.com, buy.itunes.apple.com, *.bing.com, api.busuu.com, api*.intsig.net, api.craft.do, licence.pdfexpert.com, ios-api-2.duolingo.com, mobile.flightradar24.com, api.gyrosco.pe, zy6kcqa01a.execute-api.us-east-2.amazonaws.com, photos.adobe.io, www.mindmeister.com, premium-api.myfitnesspal.com, notability.com, lapi.photomath.net, lcs-mobile-cops.adobe.io, api.revenuecat.com, spclient.wg.spotify.com, scibug.com, api.textnow.me, *.googlevideo.com,*.youtube.com,youtubei.googleapis.com

ca-passphrase = Shadowrocket
ca-p12 = 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
enable = true
